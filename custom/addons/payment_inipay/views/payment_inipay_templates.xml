<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="inipay_form">
        <input type="hidden" name="data_set" t-att-data-action-url="tx_url" data-remove-me=""/>
        <input type="hidden" name="version" value="1.0"/>
        <input type="hidden" name="mid" t-att-value="mid"/>
        <input type="hidden" name="oid" t-att-value="oid"/>
        <input type="hidden" name="goodname" t-att-value="goodname"/>
        <input type="hidden" name="price" t-att-value="price"/>
        <input type="hidden" name="tax" t-att-value="tax"/>
        <input type="hidden" name="taxfree" t-att-value="taxfree"/>
        <input type="hidden" name="currency" t-att-value="currency"/>
        <input type="hidden" name="buyername" t-att-value="buyername"/>
        <input type="hidden" name="buyertel" t-att-value="buyertel"/>
        <input type="hidden" name="buyeremail" t-att-value="buyeremail"/>
        <input type="hidden" name="timestamp" t-att-value="timestamp"/>
        <input type="hidden" name="signature" t-att-value="signature"/>
        <input type="hidden" name="returnUrl" t-att-value="returnUrl"/>
        <input type="hidden" name="mKey" t-att-value="mKey"/>
        <input type="hidden" name="gopaymethod" t-att-value="gopaymethod"/>
        <input type="hidden" name="offerPeriod" t-att-value="offerPeriod"/>
        <input type="hidden" name="languageView" t-att-value="languageView"/>
        <input type="hidden" name="charset" t-att-value="charset"/>
        <input type="hidden" name="payViewType" t-att-value="payViewType"/>
        <input type="hidden" name="closeUrl" t-att-value="closeUrl"/>
        <input type="hidden" name="popupUrl" t-att-value="popupUrl"/>
        <input type="hidden" name="merchantData" t-att-value="merchantData"/>
        <input type="hidden" name="acceptmethod" value="HPP(1):below1000:cardonly:va_receipt"/>
        <input type="hidden" name="P_INI_PAYMENT" t-att-value="inipayment"/>
        <input type="hidden" name="P_MID" t-att-value="mid"/>
        <input type="hidden" name="P_OID" t-att-value="oid"/>
        <input type="hidden" name="P_AMT" t-att-value="price"/>
        <input type="hidden" name="P_UNAME" t-att-value="buyername"/>
        <input type="hidden" name="P_GOODS" t-att-value="goodname"/>
        <input type="hidden" name="P_MOBILE" t-att-value="buyertel"/>
        <input type="hidden" name="P_EMAIL" t-att-value="buyeremail"/>
        <input type="hidden" name="P_NEXT_URL" t-att-value="nextUrl"/>
        <input type="hidden" name="P_RETURN_URL" t-att-value="returnUrl"/>
        <input type="hidden" name="P_TAX" t-att-value="tax"/>
        <input type="hidden" name="P_TAXFREE" t-att-value="taxfree"/>
        <input type="hidden" name="P_CHARSET" value="utf8"/>
        <input type="hidden" name="P_RESERVED" value="twotrs_isp=Y&amp;block_isp=Y&amp;twotrs_isp_noti=N"/>
    </template>

    <template id="assets_frontend" inherit_id="web.assets_frontend">
        <xpath expr="link[last()]" position="after">
            <link rel="stylesheet" type="text/css" href="/payment_inipay/static/src/css/inipay_modal.css"/>
        </xpath>
        <xpath expr="script[last()]" position="after">
            <script type="text/javascript" src="/payment_inipay/static/src/js/payment_form.js"></script>
        </xpath>
    </template>

    <template id="layout" name="INIpay Layout" inherit_id="website.layout">
        <xpath expr="//head/script[last()]" position="after">
            <t t-if="website.inipay_state == 'test'">
                <script language="javascript" type="text/javascript" src="https://stgstdpay.inicis.com/stdjs/INIStdPay.js" charset="UTF-8"></script>
            </t>
            <t t-if="website.inipay_state == 'enabled'">
                <script language="javascript" type="text/javascript" src="https://stdpay.inicis.com/stdjs/INIStdPay.js" charset="UTF-8"></script>
            </t>
        </xpath>
    </template>

    <template id="payment_inipay" inherit_id="website_sale.payment">
        <xpath expr="//t[@t-call='website.layout']" position="attributes">
            <attribute name="t-call">payment_inipay.layout</attribute>
        </xpath>
    </template>
</odoo>
